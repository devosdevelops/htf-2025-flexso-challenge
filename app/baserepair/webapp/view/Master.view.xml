<mvc:View controllerName="flexso.cap.htf.baserepair.controller.Master"
    xmlns:f="sap.ui.layout.form"
    xmlns:core="sap.ui.core"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns:m="sap.suite.ui.commons"
    xmlns="sap.m">
    <Page id="idPage" title="Product: Security Camera" class="sapUiResponsivePadding--header">
        <!-- this CSS class add a standard spacing to all the page content -->

        <content>
            <ObjectHeader id="_IDGenObjectHeader" title="{name}" backgroundDesign="Solid">
                <attributes>
                    <ObjectAttribute id="_IDGenObjectAttribute1" title="Weight" text="{weight}" />
                    <ObjectAttribute id="_IDGenObjectAttribute2" title="Dimensions" text="{dimensions}" />
                    <ObjectAttribute id="_IDGenObjectAttribute" title="Color" text="{color}" />
                </attributes>
                <statuses>
                    <ObjectStatus id="_IDGenObjectStatus" title="Amount in Stock" text="{amountInStock}" state="Success" />
                </statuses>
            </ObjectHeader>
            <IconTabBar id="_IDGenIconTabBar" expanded="true" class="sapUiSmallMarginBottom sapUiResponsiveContentPadding">
                <items>
                    <IconTabFilter id="_IDGenIconTabFilter" key="Parts" text="Parts">
                        <Table id="idMaterialTable" inset="false" mode="MultiSelect" items="{path: 'materials'}">
                            <headerToolbar>
                                <Toolbar>
                                    <Title text="Materials" level="H2" />
                                    <ToolbarSpacer />
                                    <Button text="Order" icon="sap-icon://add" type="Transparent" press="order" />
                                    <Button icon="sap-icon://synchronize" type="Transparent" press="refresh" />
                                </Toolbar>
                            </headerToolbar>
                            <columns>
                                <Column>
                                    <Text text="Name" />
                                </Column>
                                <Column>
                                    <Text text="In stock" />
                                </Column>
                                <Column>
                                    <Text text="Ordered" />
                                </Column>
                                <Column>
                                    <Text text="Needed for Production" />
                                </Column>
                            </columns>
                            <items>
                                <ColumnListItem>
                                    <cells>
                                        <Text text="{name}" />
                                        <Text text="{amountInStock}" />
                                        <Text text="{amountOrderd}" />
                                        <Text text="{amountNeededForProduction}" />
                                    </cells>
                                </ColumnListItem>
                            </items>
                        </Table>
                    </IconTabFilter>
                    <IconTabFilter id="_IDGenIconTabFilter1" key="Production" text="Production">
                        <Button id="_IDGenButton" text="Produce {name}" press="produce"></Button>
                        <Button id="_IDGenButton5" icon="sap-icon://synchronize" type="Transparent" press="refeshProducton"></Button>
                        <m:ProcessFlow id="processflow" scrollable="true" lanes="{
							path: '/Production',
							parameters: {
								$expand: {
                                    state: {
                                    $select: ['state','value'] }
                                }
							}
						}">
                            <m:lanes>
                                <m:ProcessFlowLaneHeader id="_IDGenProcessFlowLaneHeader" laneId="{ID}" iconSrc="{icon}" text="{label}" position="{position}" state="{path: 'state', formatter:'.formatter.stateFormatter', targetType:'any'}" />
                            </m:lanes>
                        </m:ProcessFlow>
                    </IconTabFilter>
                    <IconTabFilter id="_IDGenIconTabFilter2" key="Installations" text="Installations">
                        <Table id="idInstallationsTable" inset="false" mode="SingleSelectLeft" items="{path: 'installations'}">
                            <headerToolbar>
                                <Toolbar>
                                    <Title text="Installations" level="H2" />
                                    <ToolbarSpacer />
                                    <Button icon="sap-icon://synchronize" type="Transparent" press="refresh" />
                                </Toolbar>
                            </headerToolbar>
                            <columns>
                                <Column>
                                    <Text text="Location" />
                                </Column>
                                <Column>
                                    <Text text="Status" />
                                </Column>
                                <Column>
                                    <Text text="Actions" />
                                </Column>
                            </columns>
                            <items>
                                <ColumnListItem>
                                    <cells>
                                        <Text text="{location}" />
                                        <Text text="{status}" />
                                        <Button text="Replace" type="Accept" press="replaceCamera" />
                                    </cells>
                                </ColumnListItem>
                            </items>
                        </Table>
                    </IconTabFilter>
                </items>
            </IconTabBar>
        </content>
    </Page>
</mvc:View>